(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{1795:function(e,t,n){Promise.resolve().then(n.bind(n,7340))},7340:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return r}});var o=n(7437),s=n(2265);function r(){let[e,t]=(0,s.useState)(""),[n,r]=(0,s.useState)([]),[i,l]=(0,s.useState)(!1),d=(0,s.useRef)(null),c=()=>{var e;null===(e=d.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})};(0,s.useEffect)(()=>{c()},[n]);let u=async()=>{if(!e.trim()||i)return;let n={role:"user",content:e};r(e=>[...e,n]),t(""),l(!0);try{let e=await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({question:n.content})});if(!e.ok)throw Error("Failed to get response");let t=await e.json(),o={role:"assistant",content:t.answer};r(e=>[...e,o])}catch(t){let e={role:"assistant",content:"Sorry, I encountered an error. Please make sure the backend is running and PDFs are loaded."};r(t=>[...t,e])}finally{l(!1)}},p=async()=>{try{let e=await fetch("/api/reload",{method:"POST",headers:{"Content-Type":"application/json"}});if(e.ok){let t=await e.json();alert("PDFs reloaded successfully! Loaded ".concat(t.chunks||0," text chunks."))}else{let t=await e.json();alert("Failed to reload PDFs: ".concat(t.status||"Unknown error"))}}catch(e){alert("Failed to reload PDFs. Make sure the backend is running on port 8080.")}};return(0,o.jsxs)("main",{style:a.container,children:[(0,o.jsxs)("div",{style:a.header,children:[(0,o.jsx)("h1",{style:a.title,children:"\uD83D\uDCC4 PDF Chatbot"}),(0,o.jsx)("button",{onClick:p,style:a.reloadButton,children:"\uD83D\uDD04 Reload PDFs"})]}),(0,o.jsxs)("div",{style:a.chatContainer,children:[0===n.length&&(0,o.jsxs)("div",{style:a.welcomeMessage,children:[(0,o.jsxs)("p",{children:["\uD83D\uDC4B Welcome! Ask me anything about the PDFs in the ",(0,o.jsx)("code",{children:"pdfs"})," folder."]}),(0,o.jsxs)("p",{style:a.hint,children:["Place your PDF files in the ",(0,o.jsx)("code",{children:"pdfs"}),' folder and click "Reload PDFs" to get started.']})]}),n.map((e,t)=>(0,o.jsx)("div",{style:{...a.message,..."user"===e.role?a.userMessage:a.assistantMessage},children:(0,o.jsxs)("div",{style:a.messageContent,children:[(0,o.jsxs)("strong",{children:["user"===e.role?"You":"Assistant",":"]}),(0,o.jsx)("div",{style:a.messageText,children:e.content})]})},t)),i&&(0,o.jsx)("div",{style:{...a.message,...a.assistantMessage},children:(0,o.jsxs)("div",{style:a.messageContent,children:[(0,o.jsx)("strong",{children:"Assistant:"}),(0,o.jsx)("div",{style:a.messageText,children:"Thinking..."})]})}),(0,o.jsx)("div",{ref:d})]}),(0,o.jsxs)("div",{style:a.inputContainer,children:[(0,o.jsx)("textarea",{value:e,onChange:e=>t(e.target.value),onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),u())},placeholder:"Ask a question about your PDFs...",style:a.textarea,rows:3,disabled:i}),(0,o.jsx)("button",{onClick:u,disabled:i||!e.trim(),style:{...a.sendButton,...i||!e.trim()?a.sendButtonDisabled:{}},children:"Send"})]})]})}let a={container:{display:"flex",flexDirection:"column",height:"100vh",maxWidth:"1200px",margin:"0 auto",padding:"20px",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',backgroundColor:"#f5f5f5"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px",padding:"20px",backgroundColor:"white",borderRadius:"10px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},title:{margin:0,fontSize:"28px",color:"#333"},reloadButton:{padding:"10px 20px",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",fontSize:"14px",fontWeight:"bold"},chatContainer:{flex:1,overflowY:"auto",padding:"20px",backgroundColor:"white",borderRadius:"10px",marginBottom:"20px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},welcomeMessage:{textAlign:"center",color:"#666",padding:"40px 20px"},hint:{fontSize:"14px",marginTop:"10px",color:"#999"},message:{marginBottom:"20px",padding:"15px",borderRadius:"10px",maxWidth:"80%"},userMessage:{backgroundColor:"#007bff",color:"white",marginLeft:"auto",textAlign:"right"},assistantMessage:{backgroundColor:"#e9ecef",color:"#333",marginRight:"auto"},messageContent:{wordWrap:"break-word"},messageText:{marginTop:"5px",whiteSpace:"pre-wrap"},inputContainer:{display:"flex",gap:"10px",padding:"20px",backgroundColor:"white",borderRadius:"10px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},textarea:{flex:1,padding:"15px",border:"2px solid #ddd",borderRadius:"5px",fontSize:"16px",fontFamily:"inherit",resize:"none"},sendButton:{padding:"15px 30px",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",fontSize:"16px",fontWeight:"bold"},sendButtonDisabled:{backgroundColor:"#ccc",cursor:"not-allowed"}}}},function(e){e.O(0,[971,117,744],function(){return e(e.s=1795)}),_N_E=e.O()}]);